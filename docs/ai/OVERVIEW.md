### A2A Go SDK Overview

#### Project Overview
The A2A Go SDK is a library for building agentic applications that adhere to the **Agent2Agent (A2A) Protocol**. It provides the infrastructure to create **A2A Servers** (agents that can receive tasks) and **A2A Clients** (applications that consume agent services).

The primary problem it solves is abstracting the complexity of the A2A protocol (transport, serialization, state management), allowing developers to focus on the core agent logic and execution.

#### Architecture & Patterns
The SDK follows a layered architecture to ensure clear separation of concerns and transport agnosticism.

1.  **Core Domain (`a2a`)**: Defines the universal types shared by clients and servers, such as `Task`, `Message`, `Artifact`, and `Event`. These are pure logical types independent of how they are transmitted.
2.  **Server Framework (`a2asrv`)**: Implements the server-side logic. The key pattern here is the **Handler** pattern. Accessing the server involves:
    *   Implementing the `AgentExecutor` interface (your agent logic).
    *   Wrapping it in an `a2asrv.Handler` (protocol logic).
    *   Exposing it via a transport (e.g., gRPC, JSON-RPC).
3.  **Transports**: The SDK supports multiple transports.
    *   `a2agrpc`: High-performance gRPC implementation.
    *   `a2asrv/jsonrpc`: Standard JSON-RPC 2.0 implementation.
4.  **Client SDK (`a2aclient`)**: Provides a high-level API for interacting with agents, handling connection establishment and message exchange.

#### Directory Map

*   **`a2a/`**: **Core Domain**. Contains the fundamental types (`Task`, `Message`, `Event`) and interface definitions. Start here to understand the data model.
*   **`a2asrv/`**: **Server SDK**. Contains the `Handler` logic, `AgentExecutor` interface, and server-side utilities (middleware, auth).
*   **`a2aclient/`**: **Client SDK**. Provides the client structures to connect to and interact with A2A agents.
*   **`a2agrpc/`**: **gRPC Transport**. Adapters to run A2A over gRPC.
*   **`a2apb/`**: **Protobuf Definitions**. Generated Go code for the underlying Protocol Buffers.
*   **`internal/`**: **Internal Implementation**.
    *   `taskexec/`: Logic for managing task life-cycles and execution.
    *   `taskstore/`: Interfaces and implementations for task persistence.
    *   `eventpipe/`: Mechanisms for handling streaming events.

#### Core Concepts

*   **Agent**: The autonomous entity performing work. Encapsulated by `AgentExecutor`.
*   **Task**: A persistent stateful unit of work or conversation identified by `TaskID`. Holds `History` (messages) and `Status`.
*   **Message**: A communication unit usually exchanged between `User` and `Agent`. Composed of `Parts` (Text, File, Data).
*   **Context**: A grouping identifier (`ContextID`) linking related tasks together (e.g. a session or a project).
*   **Artifact**: A resource generated by the agent during a task (files, reports), which can be streamed back to the client.
*   **Event**: Streaming entities (`Message`, `TaskUpdate`, `ArtifactUpdate`) sent over the wire to provide real-time feedback.
